<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tree Service Hub</title>
  <link rel="stylesheet" href="assets/styles.css">

  <style>
    /* NIGHT MODE */
    body.night-mode {
      background: #0b0f17;
      color: #e0f7ff;
    }

    body.night-mode .main-header {
      background: transparent;
      color: #e0f7ff;
    }

    body.night-mode .nav-card {
      background: rgba(255,255,255,0.08);
      color: #e0f7ff;
      border: 1px solid rgba(255,255,255,0.15);
    }

    /* Stars */
    body.night-mode::before {
      content: "";
      position: fixed;
      inset: 0;
      background: url('assets/stars.png') repeat;
      opacity: 0.25;
      pointer-events: none;
      animation: twinkle 8s infinite linear;
    }

    @keyframes twinkle {
      from { opacity: 0.2; }
      to { opacity: 0.35; }
    }

    /* Moon */
    body.night-mode::after {
      content: "";
      position: fixed;
      top: 40px;
      right: 60px;
      width: 120px;
      height: 120px;
      background: radial-gradient(circle, #fff 40%, #ddd 60%, #bbb 100%);
      border-radius: 50%;
      box-shadow: 0 0 40px rgba(255,255,255,0.4);
      pointer-events: none;
    }

    /* Tree silhouettes */
    .night-trees {
      display: none;
    }

    body.night-mode .night-trees {
      display: block;
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 180px;
      background: url('assets/trees-silhouette.png') repeat-x bottom;
      opacity: 0.6;
      pointer-events: none;
    }

    /* Toggle */
    .toggle-container {
      position: absolute;
      top: 20px;
      right: 20px;
    }

    .toggle-container input {
      width: 50px;
      height: 24px;
      cursor: pointer;
    }
  </style>
</head>

<body class="fade-in">

  <div class="night-trees"></div>

  <div class="toggle-container">
    <label>
      <input type="checkbox" id="themeToggle">
      ðŸŒ™ Night Mode
    </label>
  </div>

  <header class="main-header">
    <h1 class="app-title">Tree Service Hub</h1>
    <p class="app-subtitle">Modular Static OS for Tree Work</p>
  </header>

  <main>
    <nav class="nav-grid">

      <a href="modules/profile/profile.html" class="nav-card">Profile</a>

      <a href="modules/customers/customers.html" class="nav-card">Customers & Jobs</a>

      <!-- Tree Measurement moved to center -->
      <a href="modules/measurement/measurement.html" class="nav-card" style="order:-1;">Tree Measurement</a>

      <a href="modules/contracts/contracts.html" class="nav-card">Contracts</a>
      <a href="modules/calendar/calendar.html" class="nav-card">Calendar</a>
      <a href="modules/flyers/flyers.html" class="nav-card">Cards & Flyers</a>

    </nav>
  </main>

  <footer class="main-footer">
    <p>Tree Service Hub â€¢ Modular Static App</p>
  </footer>

  <script>
    const toggle = document.getElementById("themeToggle");
    const body = document.body;

    // Load saved theme
    if (localStorage.getItem("tn_theme") === "night") {
      body.classList.add("night-mode");
      toggle.checked = true;
    }

    toggle.onchange = () => {
      if (toggle.checked) {
        body.classList.add("night-mode");
        localStorage.setItem("tn_theme", "night");
      } else {
        body.classList.remove("night-mode");
        localStorage.setItem("tn_theme", "day");
      }
    };
  </script>

</body>
</html>
